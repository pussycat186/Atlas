/* Atlas Design System - Design Tokens v2.0 */

:root {
  /* 8-pt Spacing Scale */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-6: 24px;
  --space-8: 32px;
  --space-12: 48px;
  --space-16: 64px;

  /* Typography Scale (fluid clamp) */
  --font-family-sans: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-family-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace;
  
  /* Enhanced Fluid type scale with clamp() */
  --text-display: clamp(28px, 5vw, 32px); /* Display: 28-32px */
  --text-h1: clamp(28px, 4vw, 32px); /* H1: 28-32px, weight 700 */
  --text-h2: clamp(22px, 3.5vw, 24px); /* H2: 22-24px, weight 700 */
  --text-h3: clamp(18px, 3vw, 20px); /* H3: 18-20px, weight 600 */
  --text-body: clamp(14px, 2vw, 16px); /* Body: 14-16px, weight 500 */
  --text-sm: clamp(12px, 1.5vw, 14px); /* Caption: 12px, weight 500 */
  --text-xs: clamp(10px, 1vw, 12px);
  --text-mono: clamp(13px, 1.5vw, 14px);
  
  /* Line heights */
  --line-height-tight: 1.2;
  --line-height-normal: 1.25;
  --line-height-relaxed: 1.3;
  --line-height-body: 1.6;
  
  /* Letter spacing */
  --letter-spacing-tight: -0.025em;
  --letter-spacing-normal: 0em;

  /* Color Roles - Light Theme (WCAG AA compliant) */
  --bg: #ffffff;
  --surface: #f9fafb;
  --fg: #0F172A; /* Improved neutral base */
  --muted: #1f2937; /* Increased contrast from #374151 */
  --primary: #2563EB; /* Consistent primary blue */
  --success: #10B981; /* Improved success color */
  --warn: #F59E0B; /* Improved warning color */
  --danger: #EF4444; /* Improved danger color */
  --focus: #2563EB;
  
  /* Semantic color variations - Enhanced contrast for WCAG AA */
  --bg-secondary: #f3f4f6;
  --fg-secondary: #1f2937; /* Increased contrast for better readability */
  --fg-tertiary: #374151; /* Increased contrast from #6b7280 */
  --border: #d1d5db;
  --border-focus: #2563eb;
  
  /* Specific color fixes for failing elements */
  --atlas-600: #2563eb; /* Fix for .border-atlas-600 contrast */
  --yellow-600: #b45309; /* Fix for .text-yellow-600 contrast */
  --green-600: #047857; /* Fix for .text-green-600 contrast */
  
  /* Focus Ring (WCAG AA compliant) */
  --focus-ring: 2px solid var(--focus);
  --focus-ring-offset: 2px;
  --focus-shadow: 0 0 0 var(--focus-ring-offset) var(--bg), 0 0 0 calc(var(--focus-ring-offset) + 2px) var(--focus);
  
  /* Elevation */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  
  /* Motion */
  --ease: cubic-bezier(0.2, 0, 0, 1);
  --duration-fast: 120ms;
  --duration-normal: 200ms;
  --duration-slow: 320ms;
  
  /* Z-index scale */
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal-backdrop: 1040;
  --z-modal: 1050;
  --z-popover: 1060;
  --z-tooltip: 1070;
  --z-toast: 1080;
}

/* Dark Theme (WCAG AA compliant) */
[data-theme="dark"] {
  --bg: #0B0F1A; /* Improved dark background */
  --surface: #1f2937;
  --fg: #ffffff;
  --muted: #d1d5db;
  --primary: #3b82f6;
  --success: #10b981;
  --warn: #f59e0b;
  --danger: #ef4444;
  --focus: #3b82f6;
  
  --bg-secondary: #374151;
  --fg-secondary: #9ca3af;
  --fg-tertiary: #6b7280;
  --border: #374151;
  --border-focus: #3b82f6;
  
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.3);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.3);
}

/* High Contrast Theme (WCAG AAA compliant) */
[data-theme="hc"] {
  --bg: #ffffff;
  --surface: #f0f0f0;
  --fg: #000000;
  --muted: #333333;
  --primary: #0000ff;
  --success: #008000;
  --warn: #ff8000;
  --danger: #ff0000;
  --focus: #0000ff;
  
  --bg-secondary: #e0e0e0;
  --fg-secondary: #666666;
  --fg-tertiary: #333333;
  --border: #000000;
  --border-focus: #0000ff;
  
  /* High contrast shadows */
  --shadow-sm: 0 2px 4px 0 rgb(0 0 0 / 0.8);
  --shadow-md: 0 4px 8px 0 rgb(0 0 0 / 0.8);
  --shadow-lg: 0 8px 16px 0 rgb(0 0 0 / 0.8);
}

/* Accessibility - Target Sizes */
button,
[role="button"],
input[type="checkbox"],
input[type="radio"],
a {
  min-height: 24px;
  min-width: 24px;
}

/* Touch targets for mobile */
@media (pointer: coarse) {
  button,
  [role="button"],
  input[type="checkbox"],
  input[type="radio"],
  a {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Focus Management */
*:focus {
  outline: 2px solid transparent;
  outline-offset: 2px;
}

*:focus-visible {
  outline: var(--focus-ring);
  outline-offset: var(--focus-ring-offset);
  box-shadow: var(--focus-shadow);
}

/* Reduce Motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Base typography */
body {
  font-family: var(--font-family-sans);
  font-size: var(--text-body);
  line-height: var(--line-height-body);
  color: var(--fg);
  background-color: var(--bg);
}

/* Heading hierarchy */
h1, h2, h3, h4, h5, h6 {
  font-weight: 600;
  line-height: var(--line-height-tight);
  letter-spacing: var(--letter-spacing-tight);
  color: var(--fg);
}

h1 { font-size: var(--text-display); }
h2 { font-size: var(--text-h1); }
h3 { font-size: var(--text-h2); }
h4 { font-size: var(--text-h3); }
h5 { font-size: var(--text-body); }
h6 { font-size: var(--text-sm); }

/* Code elements */
code, pre {
  font-family: var(--font-family-mono);
  font-size: var(--text-mono);
}

/* Container widths */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--space-4);
}

@media (min-width: 640px) {
  .container {
    padding: 0 var(--space-6);
  }
}

@media (min-width: 1024px) {
  .container {
    padding: 0 var(--space-8);
  }
}